package com.ramitsuri.recipe.core;

import org.junit.Test;

import static org.junit.Assert.assertNotNull;

class RecipeExtractorTest {
    @Test
    void testGetRecipeJson() {
        RecipeExtractor extractor = new RecipeExtractor();

        String jsonString = getJsonType1();
        String recipeJson = extractor.findRecipe(jsonString);
        assertNotNull(recipeJson);

        jsonString = getJsonType2();
        recipeJson = extractor.findRecipe(jsonString);
        assertNotNull(recipeJson);

        jsonString = getJsonType3();
        recipeJson = extractor.findRecipe(jsonString);
        assertNotNull(recipeJson);
    }


    // Json Array inside Json Object
    private String getJsonType1() {
        return "{\"@context\":\"https://schema.org\",\"@graph\":[{\"@type\":\"Organization\"," +
                "\"@id\":\"https://www.cookwithmanali.com/#organization\",\"name\":\"Cook With Manali\",\"url\":\"https://www.cookwithmanali.com/\",\"sameAs\":[\"https://www.facebook.com/cookwithmanali\",\"https://instagram.com/cookwithmanali\",\"https://www.youtube.com/channel/UC1BtDXcgSV2esmwKLbtTGiw\",\"https://pinterest.com/cookwithmanali\",\"https://twitter.com/cookwithmanali\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https://www.cookwithmanali.com/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https://www.cookwithmanali.com/wp-content/uploads/2019/04/cwm-square-logo-small.png\",\"width\":112,\"height\":112,\"caption\":\"Cook With Manali\"},\"image\":{\"@id\":\"https://www.cookwithmanali.com/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https://www.cookwithmanali.com/#website\",\"url\":\"https://www.cookwithmanali.com/\",\"name\":\"Cook With Manali\",\"description\":\"Fresh. Wholesome. Vegetarian Food From Scratch.\",\"publisher\":{\"@id\":\"https://www.cookwithmanali.com/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https://www.cookwithmanali.com/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https://www.cookwithmanali.com/wp-content/uploads/2017/05/Instant-Pot-Mediterranean-Lentil-Soup-Recipe.jpg\",\"width\":660,\"height\":1000},{\"@type\":\"WebPage\",\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#webpage\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/\",\"name\":\"Instant Pot Mediterranean Lentil Soup - Cook With Manali\",\"isPartOf\":{\"@id\":\"https://www.cookwithmanali.com/#website\"},\"primaryImageOfPage\":{\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#primaryimage\"},\"datePublished\":\"2017-05-04T09:43:37+00:00\",\"dateModified\":\"2018-01-22T18:48:30+00:00\",\"description\":\"Instant Pot Mediterranean Lentil Soup is packed with tons of flavors. Gets done in less than 30 minutes, thanks to the IP! Vegan & gluten-free.\",\"breadcrumb\":{\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"item\":{\"@type\":\"WebPage\",\"@id\":\"https://www.cookwithmanali.com/category/instant-pot-recipes/\",\"url\":\"https://www.cookwithmanali.com/category/instant-pot-recipes/\",\"name\":\"Instant Pot Recipes\"}},{\"@type\":\"ListItem\",\"position\":2,\"item\":{\"@type\":\"WebPage\",\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/\",\"name\":\"Instant Pot Mediterranean Lentil Soup\"}}]},{\"@type\":\"Article\",\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#article\",\"isPartOf\":{\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#webpage\"},\"author\":{\"@id\":\"https://www.cookwithmanali.com/#/schema/person/bd4e938de53e01f6c30d8e7009fa30be\"},\"headline\":\"Instant Pot Mediterranean Lentil Soup\",\"datePublished\":\"2017-05-04T09:43:37+00:00\",\"dateModified\":\"2018-01-22T18:48:30+00:00\",\"commentCount\":\"51\",\"publisher\":{\"@id\":\"https://www.cookwithmanali.com/#organization\"},\"image\":{\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#primaryimage\"},\"keywords\":\"Instant Pot Indian Recipe,Instant Pot Indian Recipes,Instant Pot Mediterranean Lentil Soup,Instant Pot Mediterranean Lentil Soup Recipe,Instant Pot Vegan Recipe,Instant Pot Vegan Recipes,Mediterranean Lentil Soup,Mediterranean Lentil Soup Recipe,Vegan Mediterranean Lentil Soup\",\"articleSection\":\"Instant Pot Recipes\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#respond\"]}]},{\"@type\":[\"Person\"],\"@id\":\"https://www.cookwithmanali.com/#/schema/person/bd4e938de53e01f6c30d8e7009fa30be\",\"name\":\"Manali\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https://www.cookwithmanali.com/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https://secure.gravatar.com/avatar/8081981181678babf4597ff5d69d14e6?s=96&d=mm&r=g\",\"caption\":\"Manali\"},\"sameAs\":[\"https://twitter.com/cookwithmanali\"]},{\"@context\":\"http://schema.org/\",\"@type\":\"Recipe\",\"name\":\"Instant Pot Mediterranean Lentil Soup\",\"author\":{\"@type\":\"Person\",\"name\":\"Manali\"},\"description\":\"Instant Pot Mediterranean Lentil Soup is packed with tons of flavors and comes together in less than 30 minutes! Vegan &amp; gluten-free.\",\"datePublished\":\"2017-05-04T04:43:37+00:00\",\"image\":[\"https://www.cookwithmanali.com/wp-content/uploads/2017/05/Instant-Pot-Mediterranean-Lentil-Soup-Recipe.jpg\",\"https://www.cookwithmanali.com/wp-content/uploads/2017/05/Instant-Pot-Mediterranean-Lentil-Soup-Recipe-500x500.jpg\",\"https://www.cookwithmanali.com/wp-content/uploads/2017/05/Instant-Pot-Mediterranean-Lentil-Soup-Recipe-500x375.jpg\",\"https://www.cookwithmanali.com/wp-content/uploads/2017/05/Instant-Pot-Mediterranean-Lentil-Soup-Recipe-480x270.jpg\"],\"recipeYield\":[\"2\"],\"prepTime\":\"PT5M\",\"cookTime\":\"PT18M\",\"totalTime\":\"PT23M\",\"recipeIngredient\":[\"1 tablespoon olive oil\",\"1/2 cup red lentils\",\"1  medium yellow or red onion (use yellow preferably)\",\"2  garlic cloves (chopped)\",\"1/2 teaspoon ground cumin\",\"1/2 teaspoon ground coriander\",\"1/2 teaspoon ground sumac\",\"1/2 teaspoon red chili flakes (or to taste)\",\"1/2 teaspoon dried parsley\",\"3/4 teaspoon dried mint flakes\",\"pinch of sugar\",\"2-2.5 cups water or vegetable broth (I used water)\",\"salt (to taste)\",\"black pepper (to taste)\",\"juice of 1/2 lime\",\"parsley or cilantro (to garnish)\"],\"recipeInstructions\":[{\"@type\":\"HowToStep\",\"text\":\"Press the saute button on your Instant Pot. Wait till it gets hot and then add olive oil to the pot.\",\"name\":\"Press the saute button on your Instant Pot. Wait till it gets hot and then add olive oil to the pot.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-0\"},{\"@type\":\"HowToStep\",\"text\":\"Once oil is hot, add chopped onion and saute till it becomes light golden brown in color. (use yellow onion if possible, I only had red so used that)\",\"name\":\"Once oil is hot, add chopped onion and saute till it becomes light golden brown in color. (use yellow onion if possible, I only had red so used that)\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-1\"},{\"@type\":\"HowToStep\",\"text\":\"Add chopped garlic, ground cumin, ground coriander, ground sumac, red chili flakes, dried parsley, pinch of sugar and dried mint flakes.\",\"name\":\"Add chopped garlic, ground cumin, ground coriander, ground sumac, red chili flakes, dried parsley, pinch of sugar and dried mint flakes.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-2\"},{\"@type\":\"HowToStep\",\"text\":\"Cook for 1-2 minutes, stirring constantly.\",\"name\":\"Cook for 1-2 minutes, stirring constantly.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-3\"},{\"@type\":\"HowToStep\",\"text\":\"Add water (or vegetable broth) and give a stir.\",\"name\":\"Add water (or vegetable broth) and give a stir.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-4\"},{\"@type\":\"HowToStep\",\"text\":\"Add the lentils and also add salt and pepper. Stir to mix. Close the Instant Pot and set valve to sealing position.\",\"name\":\"Add the lentils and also add salt and pepper. Stir to mix. Close the Instant Pot and set valve to sealing position.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-5\"},{\"@type\":\"HowToStep\",\"text\":\"Cancel saute mode and press \\\"Manual\\\" button on your IP. Adjust the timing and set it to 8 minutes on high. Once 8 minutes are up, wait for 5 minutes and then do quick release.\",\"name\":\"Cancel saute mode and press \\\"Manual\\\" button on your IP. Adjust the timing and set it to 8 minutes on high. Once 8 minutes are up, wait for 5 minutes and then do quick release.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-6\"},{\"@type\":\"HowToStep\",\"text\":\"Stir the soup, add lime juice.\",\"name\":\"Stir the soup, add lime juice.\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-7\"},{\"@type\":\"HowToStep\",\"text\":\"Serve the mediterranean lentil soup with a side of pita bread!\",\"name\":\"Serve the mediterranean lentil soup with a side of pita bread!\",\"url\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#wprm-recipe-35341-step-0-8\"}],\"aggregateRating\":{\"@type\":\"AggregateRating\",\"ratingValue\":\"4.91\",\"ratingCount\":\"11\"},\"nutrition\":{\"@type\":\"NutritionInformation\",\"calories\":\"250 kcal\",\"carbohydrateContent\":\"33 g\",\"proteinContent\":\"12 g\",\"fatContent\":\"7 g\",\"saturatedFatContent\":\"1 g\",\"sodiumContent\":\"27 mg\",\"fiberContent\":\"14 g\",\"sugarContent\":\"3 g\",\"servingSize\":\"1 serving\"},\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#recipe\",\"isPartOf\":{\"@id\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#article\"},\"mainEntityOfPage\":\"https://www.cookwithmanali.com/instant-pot-mediterranean-lentil-soup/#webpage\"}]}";
    }

    // Json Object
    private String getJsonType2() {
        return "{\n" +
                "        \"@context\": \"http://schema.org\"\n" +
                "        ,\"@type\": \"Recipe\"\n" +
                "        ,\"name\": \"Kadhi (Turmeric-Yogurt Soup)\"\n" +
                "        ,\"image\": \"https://assets.bonappetit.com/photos/5e47011d950d220008090f88/16:9/w_1000,c_limit/0220-Kadhi-Turmeric-Soup-lede-1.jpg\"\n" +
                "        ,\"author\": {\n" +
                "          \"@type\": \"Person\"\n" +
                "          ,\"name\": \"Priya Krishna\"\n" +
                "        }\n" +
                "        ,\"publisher\": {\"@type\":\"Organization\",\"name\":\"Bon Appétit\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://www.bonappetit.com/images/logo-foodculture-tablet@1x.png\",\"width\":322,\"height\":56}}\n" +
                "        ,\"datePublished\": \"2020-02-24T06:00:00.000-05:00\"\n" +
                "        ,\"dateCreated\": \"2020-10-13T12:37:00.000-04:00\"\n" +
                "        ,\"description\": \"Kadhi is similar in texture to cream of [fill in the blank] soup, but with no cream, and…well…better. All you need to make it are yogurt, chickpea flour, and spices. But don’t let the simplicity fool you: Kadhi is both deeply comforting and insanely complex in its flavor, like a cozy blanket draped over a hot bowl of white rice. The exact recipe varies from region to region in India, and sometimes includes add-ins, like chickpea flour–based fritters called pakoras, but we like it thick, rich, and spice-forward, with a pleasant tanginess at the end. If you don’t like peppercorn flavor, feel free to nix them or cut the amount in half.\"\n" +
                "        ,\"aggregateRating\": {\"@type\": \"AggregateRating\", \"ratingValue\": \"4.52\", \"reviewCount\": \"34\"}\n" +
                "        ,\"recipeYield\": \"4 servings\"\n" +
                "        ,\"recipeIngredient\": [\n" +
                "          \"1 cup whole-milk plain yogurt (not Greek)\",\"¼ cup chickpea flour\",\"1 tsp. ground turmeric\",\"1 Tbsp. plus 4½ tsp. ghee or extra-virgin olive oil, divided\",\"5 whole cloves\",\"2 bay leaves\",\"½ tsp. black peppercorns\",\"½ tsp. black mustard seeds\",\"½ tsp. fenugreek seeds\",\"1½ tsp. cumin seeds, divided\",\"2 tsp. kosher salt, plus more if needed\",\"Fresh lime juice (optional)\",\"3 dried red chiles\",\"½ tsp. asafetida (optional, but really great)\",\"¼ tsp. red chili powder\",\"Cooked rice (for serving)\"\n" +
                "        ]\n" +
                "        ,\"recipeInstructions\": [\n" +
                "          {\"@type\":\"HowToStep\",\"text\":\"Mix yogurt and chickpea flour in a large measuring glass until smooth and homogeneous. Stir in 1 cup water, followed by turmeric—the mixture should be a pale yellow color; set aside.\"},{\"@type\":\"HowToStep\",\"text\":\"Melt 1 Tbsp. ghee in a medium Dutch oven or other heavy pot over medium heat. Add cloves, bay leaves, peppercorns, mustard seeds, fenugreek seeds, and ½ tsp. cumin seeds and cook, stirring, until mustard seeds start to pop, about 1 minute. Reduce heat to low and add reserved yogurt mixture and 3 cups water; mix well. Season with 2 tsp. salt. Taste—the mixture should be tangy, rich, and distinctly flavored by the spices. Add lime juice to taste and more salt if needed.\"},{\"@type\":\"HowToStep\",\"text\":\"Increase heat to high and bring to a boil, stirring constantly (if you stop stirring, it will curdle). Insert a large long-handled spoon into the pot to prevent soup from boiling over and let cook 10 minutes without stirring (if at any point it looks like it might boil over, reduce heat to medium-high for a minute before turning it back up). The kadhi should become thicker and brighter in color and look like a creamy soup. Taste again and add more lime juice if needed.\"},{\"@type\":\"HowToStep\",\"text\":\"About 5 minutes before kadhi is done cooking, melt remaining 4½ tsp. ghee in a small saucepan or butter warmer over medium-high. Cook remaining 1 tsp. cumin seeds until they start to sputter and turn brown, a matter of seconds. Immediately remove pan from heat and stir in chiles, asafetida (if using), and chili powder.\"},{\"@type\":\"HowToStep\",\"text\":\"Stir spiced ghee into kadhi and serve in bowls over rice.\"}\n" +
                "        ]\n" +
                "        ,\"nutrition\": \"\"\n" +
                "      }";
    }

    // Json Array
    private String getJsonType3() {
        return "[{\n" +
                "        \"@context\": \"http://schema.org\"\n" +
                "        ,\"@type\": \"Recipe\"\n" +
                "        ,\"name\": \"Kadhi (Turmeric-Yogurt Soup)\"\n" +
                "        ,\"image\": \"https://assets.bonappetit.com/photos/5e47011d950d220008090f88/16:9/w_1000,c_limit/0220-Kadhi-Turmeric-Soup-lede-1.jpg\"\n" +
                "        ,\"author\": {\n" +
                "          \"@type\": \"Person\"\n" +
                "          ,\"name\": \"Priya Krishna\"\n" +
                "        }\n" +
                "        ,\"publisher\": {\"@type\":\"Organization\",\"name\":\"Bon Appétit\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://www.bonappetit.com/images/logo-foodculture-tablet@1x.png\",\"width\":322,\"height\":56}}\n" +
                "        ,\"datePublished\": \"2020-02-24T06:00:00.000-05:00\"\n" +
                "        ,\"dateCreated\": \"2020-10-13T12:37:00.000-04:00\"\n" +
                "        ,\"description\": \"Kadhi is similar in texture to cream of [fill in the blank] soup, but with no cream, and…well…better. All you need to make it are yogurt, chickpea flour, and spices. But don’t let the simplicity fool you: Kadhi is both deeply comforting and insanely complex in its flavor, like a cozy blanket draped over a hot bowl of white rice. The exact recipe varies from region to region in India, and sometimes includes add-ins, like chickpea flour–based fritters called pakoras, but we like it thick, rich, and spice-forward, with a pleasant tanginess at the end. If you don’t like peppercorn flavor, feel free to nix them or cut the amount in half.\"\n" +
                "        ,\"aggregateRating\": {\"@type\": \"AggregateRating\", \"ratingValue\": \"4.52\", \"reviewCount\": \"34\"}\n" +
                "        ,\"recipeYield\": \"4 servings\"\n" +
                "        ,\"recipeIngredient\": [\n" +
                "          \"1 cup whole-milk plain yogurt (not Greek)\",\"¼ cup chickpea flour\",\"1 tsp. ground turmeric\",\"1 Tbsp. plus 4½ tsp. ghee or extra-virgin olive oil, divided\",\"5 whole cloves\",\"2 bay leaves\",\"½ tsp. black peppercorns\",\"½ tsp. black mustard seeds\",\"½ tsp. fenugreek seeds\",\"1½ tsp. cumin seeds, divided\",\"2 tsp. kosher salt, plus more if needed\",\"Fresh lime juice (optional)\",\"3 dried red chiles\",\"½ tsp. asafetida (optional, but really great)\",\"¼ tsp. red chili powder\",\"Cooked rice (for serving)\"\n" +
                "        ]\n" +
                "        ,\"recipeInstructions\": [\n" +
                "          {\"@type\":\"HowToStep\",\"text\":\"Mix yogurt and chickpea flour in a large measuring glass until smooth and homogeneous. Stir in 1 cup water, followed by turmeric—the mixture should be a pale yellow color; set aside.\"},{\"@type\":\"HowToStep\",\"text\":\"Melt 1 Tbsp. ghee in a medium Dutch oven or other heavy pot over medium heat. Add cloves, bay leaves, peppercorns, mustard seeds, fenugreek seeds, and ½ tsp. cumin seeds and cook, stirring, until mustard seeds start to pop, about 1 minute. Reduce heat to low and add reserved yogurt mixture and 3 cups water; mix well. Season with 2 tsp. salt. Taste—the mixture should be tangy, rich, and distinctly flavored by the spices. Add lime juice to taste and more salt if needed.\"},{\"@type\":\"HowToStep\",\"text\":\"Increase heat to high and bring to a boil, stirring constantly (if you stop stirring, it will curdle). Insert a large long-handled spoon into the pot to prevent soup from boiling over and let cook 10 minutes without stirring (if at any point it looks like it might boil over, reduce heat to medium-high for a minute before turning it back up). The kadhi should become thicker and brighter in color and look like a creamy soup. Taste again and add more lime juice if needed.\"},{\"@type\":\"HowToStep\",\"text\":\"About 5 minutes before kadhi is done cooking, melt remaining 4½ tsp. ghee in a small saucepan or butter warmer over medium-high. Cook remaining 1 tsp. cumin seeds until they start to sputter and turn brown, a matter of seconds. Immediately remove pan from heat and stir in chiles, asafetida (if using), and chili powder.\"},{\"@type\":\"HowToStep\",\"text\":\"Stir spiced ghee into kadhi and serve in bowls over rice.\"}\n" +
                "        ]\n" +
                "        ,\"nutrition\": \"\"\n" +
                "      }," +
                "{\n" +
                "        \"@context\": \"http://schema.org\"\n" +
                "        ,\"@type\": \"Recipe\"\n" +
                "        ,\"name\": \"Kadhi (Turmeric-Yogurt Soup)\"\n" +
                "        ,\"image\": \"https://assets.bonappetit.com/photos/5e47011d950d220008090f88/16:9/w_1000,c_limit/0220-Kadhi-Turmeric-Soup-lede-1.jpg\"\n" +
                "        ,\"author\": {\n" +
                "          \"@type\": \"Person\"\n" +
                "          ,\"name\": \"Priya Krishna\"\n" +
                "        }\n" +
                "        ,\"publisher\": {\"@type\":\"Organization\",\"name\":\"Bon Appétit\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://www.bonappetit.com/images/logo-foodculture-tablet@1x.png\",\"width\":322,\"height\":56}}\n" +
                "        ,\"datePublished\": \"2020-02-24T06:00:00.000-05:00\"\n" +
                "        ,\"dateCreated\": \"2020-10-13T12:37:00.000-04:00\"\n" +
                "        ,\"description\": \"Kadhi is similar in texture to cream of [fill in the blank] soup, but with no cream, and…well…better. All you need to make it are yogurt, chickpea flour, and spices. But don’t let the simplicity fool you: Kadhi is both deeply comforting and insanely complex in its flavor, like a cozy blanket draped over a hot bowl of white rice. The exact recipe varies from region to region in India, and sometimes includes add-ins, like chickpea flour–based fritters called pakoras, but we like it thick, rich, and spice-forward, with a pleasant tanginess at the end. If you don’t like peppercorn flavor, feel free to nix them or cut the amount in half.\"\n" +
                "        ,\"aggregateRating\": {\"@type\": \"AggregateRating\", \"ratingValue\": \"4.52\", \"reviewCount\": \"34\"}\n" +
                "        ,\"recipeYield\": \"4 servings\"\n" +
                "        ,\"recipeIngredient\": [\n" +
                "          \"1 cup whole-milk plain yogurt (not Greek)\",\"¼ cup chickpea flour\",\"1 tsp. ground turmeric\",\"1 Tbsp. plus 4½ tsp. ghee or extra-virgin olive oil, divided\",\"5 whole cloves\",\"2 bay leaves\",\"½ tsp. black peppercorns\",\"½ tsp. black mustard seeds\",\"½ tsp. fenugreek seeds\",\"1½ tsp. cumin seeds, divided\",\"2 tsp. kosher salt, plus more if needed\",\"Fresh lime juice (optional)\",\"3 dried red chiles\",\"½ tsp. asafetida (optional, but really great)\",\"¼ tsp. red chili powder\",\"Cooked rice (for serving)\"\n" +
                "        ]\n" +
                "        ,\"recipeInstructions\": [\n" +
                "          {\"@type\":\"HowToStep\",\"text\":\"Mix yogurt and chickpea flour in a large measuring glass until smooth and homogeneous. Stir in 1 cup water, followed by turmeric—the mixture should be a pale yellow color; set aside.\"},{\"@type\":\"HowToStep\",\"text\":\"Melt 1 Tbsp. ghee in a medium Dutch oven or other heavy pot over medium heat. Add cloves, bay leaves, peppercorns, mustard seeds, fenugreek seeds, and ½ tsp. cumin seeds and cook, stirring, until mustard seeds start to pop, about 1 minute. Reduce heat to low and add reserved yogurt mixture and 3 cups water; mix well. Season with 2 tsp. salt. Taste—the mixture should be tangy, rich, and distinctly flavored by the spices. Add lime juice to taste and more salt if needed.\"},{\"@type\":\"HowToStep\",\"text\":\"Increase heat to high and bring to a boil, stirring constantly (if you stop stirring, it will curdle). Insert a large long-handled spoon into the pot to prevent soup from boiling over and let cook 10 minutes without stirring (if at any point it looks like it might boil over, reduce heat to medium-high for a minute before turning it back up). The kadhi should become thicker and brighter in color and look like a creamy soup. Taste again and add more lime juice if needed.\"},{\"@type\":\"HowToStep\",\"text\":\"About 5 minutes before kadhi is done cooking, melt remaining 4½ tsp. ghee in a small saucepan or butter warmer over medium-high. Cook remaining 1 tsp. cumin seeds until they start to sputter and turn brown, a matter of seconds. Immediately remove pan from heat and stir in chiles, asafetida (if using), and chili powder.\"},{\"@type\":\"HowToStep\",\"text\":\"Stir spiced ghee into kadhi and serve in bowls over rice.\"}\n" +
                "        ]\n" +
                "        ,\"nutrition\": \"\"\n" +
                "      }]";
    }
}